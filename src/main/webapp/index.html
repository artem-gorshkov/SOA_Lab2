<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="utf-8" />
    <title>Soa2</title>
    <link rel="shortcut icon" href="img/favicon.ico">

    <link rel="stylesheet" type="text/css" href="css/thirdparty/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="css/thirdparty/bootstrap-table.min.css">
</head>

<body>
<div id="app" class="pl-5 pr-5">
    <participants v-on:add="add" v-on:remove="remove"></participants>
    <div class="col-xs-1 text-center" id="error"></div>
</div>

<script src="https://unpkg.com/vue@2.6.14"></script>
<script src="https://unpkg.com/vue-resource"></script>
<script src="js/main-components.js"></script>

<script>
    function printError(message) {
        document.getElementById("error").innerText = message
    }
    var app = new Vue({
        el: '#app',
        methods: {
            add: function(id) {
                let params = []

                this.$http.get(
                    '/v1/api/band/' + id + '/participants/add'
                ).then(
                    (response) => {
                        printError(response.bodyText)
                    },
                    (error) => {
                        printError(error.body.message)
                    }
                );
            },
            remove: function(id) {
                let params = []

                this.$http.get(
                    '/v1/api/band/' + id + '/participants/remove'
                ).then(
                    (response) => {
                        printError(response.bodyText)
                    },
                    (error) => {
                        printError(error.body.message)
                    }
                );
            },
        },
        created: function() {
        }
    })
</script>
</body>

</html>